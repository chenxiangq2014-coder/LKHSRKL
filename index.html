<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é¾™æŸ¯çš“ - ç”Ÿæ—¥å¿«ä¹</title>
    <style>
        /* --- å…¨å±€æ ·å¼ --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Consolas', 'Courier New', monospace;
        }

        body {
            background-color: #000;
            color: #0f0;
            line-height: 1.6;
            overflow-x: hidden;
            padding: 20px;
            min-height: 100vh;
        }

        /* --- ä»£ç é›¨èƒŒæ™¯ --- */
        #matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.25;
        }

        /* --- å¯åŠ¨å±å¹• --- */
        #boot-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
            padding: 40px;
            font-size: 14px;
        }
        .boot-log {
            opacity: 0;
            animation: fadeIn 0.5s forwards;
            white-space: pre;
        }

        /* --- ä¸»ç»ˆç«¯ç•Œé¢ --- */
        #main-terminal {
            display: none;
            height: 100vh;
            flex-direction: column;
        }
        #terminal-header {
            border-bottom: 1px solid #0f0;
            padding: 10px 0;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #terminal-title {
            font-weight: bold;
            text-shadow: 0 0 5px #0f0;
        }
        #system-time {
            color: #0f08;
        }

        /* --- ç»ˆç«¯å†…å®¹åŒºåŸŸ --- */
        #terminal-content {
            flex-grow: 1;
            overflow-y: auto;
        }
        .terminal-line {
            margin-bottom: 8px;
            white-space: pre-wrap;
        }
        .command-prompt {
            color: #00ff00;
            font-weight: bold;
        }
        .system-message { color: #00ffff; }
        .success-message { color: #00ff00; }
        .error-message { color: #ff0000; }
        .info-message { color: #ffff00; }
        .quote-message { font-style: italic; color: #aaffaa; }

        /* --- ç»ˆç«¯è¾“å…¥åŒºåŸŸ --- */
        #terminal-input-area {
            display: flex;
            align-items: center;
            margin-top: 20px;
        }
        #user-input {
            background: transparent;
            border: none;
            color: #0f0;
            font-family: inherit;
            font-size: inherit;
            outline: none;
            width: 100%;
            padding: 5px;
        }

        /* --- åŠ¨ç”»æ•ˆæœ --- */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        .blinking-cursor::after {
            content: '_';
            animation: blink 1s infinite;
        }

        /* --- æ»šåŠ¨æ¡ç¾åŒ– (WebKit) --- */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #000;
            border-left: 1px solid #0f0;
        }
        ::-webkit-scrollbar-thumb {
            background: #0f0;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #00cc00;
        }
    </style>
</head>
<body>

    <!-- ä»£ç é›¨èƒŒæ™¯ -->
    <canvas id="matrix-bg"></canvas>

    <!-- ç³»ç»Ÿå¯åŠ¨å±å¹• -->
    <div id="boot-screen"></div>

    <!-- ä¸»ç»ˆç«¯ç•Œé¢ -->
    <div id="main-terminal">
        <div id="terminal-header">
            <div id="terminal-title">HAPPY_BIRTHDAY_TERMINAL.exe</div>
            <div id="system-time"></div>
        </div>
        <div id="terminal-content"></div>
        <div id="terminal-input-area">
            <span class="command-prompt">>_</span>
            <input type="text" id="user-input" autocomplete="off">
        </div>
    </div>

    <script>
        // --- ä»£ç é›¨æ•ˆæœ ---
        const canvas = document.getElementById('matrix-bg');
        const ctx = canvas.getContext('2d');
        let width, height;

        function resizeCanvas() {
            width = window.innerWidth;
            height = window.innerHeight;
            canvas.width = width;
            canvas.height = height;
        }
        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const chars = '01';
        const fontSize = 14;
        const columns = Math.floor(width / fontSize);
        const drops = Array.from({ length: columns }, () => Math.random() * -height);

        function drawMatrix() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
            ctx.fillRect(0, 0, width, height);
            ctx.fillStyle = '#0F0';
            ctx.font = `${fontSize}px monospace`;

            drops.forEach((y, i) => {
                const text = chars[Math.floor(Math.random() * chars.length)];
                ctx.fillText(text, i * fontSize, y * fontSize);
                if (y * fontSize > height && Math.random() > 0.975) drops[i] = 0;
                drops[i]++;
            });
        }
        setInterval(drawMatrix, 35);

        // --- ç³»ç»Ÿå¯åŠ¨æµç¨‹ ---
        const bootScreen = document.getElementById('boot-screen');
        const mainTerminal = document.getElementById('main-terminal');
        const bootTexts = [
            "Initializing System...",
            "Loading Kernel: birthday_v1.0.0",
            "Checking Network Connection... [ONLINE]",
            "Authenticating User...",
            "Username: é¾™æŸ¯çš“",
            "Access Level: ADMIN",
            "System Check: All Systems Operational.",
            "",
            "Welcome to the Birthday Terminal.",
            "Type 'help' to see available commands."
        ];

        function simulateBoot() {
            bootTexts.forEach((text, index) => {
                setTimeout(() => {
                    const log = document.createElement('div');
                    log.className = 'boot-log';
                    log.textContent = text;
                    bootScreen.appendChild(log);
                }, index * 600);
            });

            setTimeout(() => {
                bootScreen.style.opacity = '0';
                setTimeout(() => {
                    bootScreen.style.display = 'none';
                    mainTerminal.style.display = 'flex';
                    document.getElementById('user-input').focus();
                    addTerminalLine("System fully loaded. Enjoy your special day!", 'system');
                }, 500);
            }, bootTexts.length * 600 + 1000);
        }
        simulateBoot();

        // --- ç»ˆç«¯æ ¸å¿ƒåŠŸèƒ½ ---
        const terminalContent = document.getElementById('terminal-content');
        const userInput = document.getElementById('user-input');
        const systemTimeEl = document.getElementById('system-time');

        // æ›´æ–°ç³»ç»Ÿæ—¶é—´
        function updateSystemTime() {
            systemTimeEl.textContent = new Date().toLocaleTimeString();
        }
        setInterval(updateSystemTime, 1000);
        updateSystemTime();

        // æ·»åŠ å†…å®¹åˆ°ç»ˆç«¯
        function addTerminalLine(text, type = 'default') {
            const line = document.createElement('div');
            line.className = `terminal-line ${type}-message`;
            line.textContent = text;
            terminalContent.appendChild(line);
            terminalContent.scrollTop = terminalContent.scrollHeight;
        }

        // å‘½ä»¤å¤„ç†
        const commands = {
            help: () => {
                addTerminalLine("Available Commands:", 'info');
                addTerminalLine("  help                  - Show this help message");
                addTerminalLine("  whoami                - Display current user information");
                addTerminalLine("  birthday              - Display the main birthday message");
                addTerminalLine("  quote                 - Show a random happy quote");
                addTerminalLine("  joke                  - Tell a programmer joke");
                addTerminalLine("  clear                 - Clear the terminal screen");
                addTerminalLine("  sysinfo               - Display system information");
                addTerminalLine("  sing                  - Let the terminal sing 'Happy Birthday'");
                addTerminalLine("  credits               - Show credits");
                addTerminalLine("  exit                  - Exit the terminal (but why would you?)");
            },
            whoami: () => {
                addTerminalLine("User Information:", 'info');
                addTerminalLine("  Username: é¾™æŸ¯çš“");
                addTerminalLine("  Status: Birthday Star");
                addTerminalLine("  Date: " + new Date().toLocaleDateString());
                addTerminalLine("  Access: Unlimited Joy");
            },
            birthday: () => {
                addTerminalLine("=== HAPPY BIRTHDAY TO é¾™æŸ¯çš“ ===", 'success');
                addTerminalLine("");
                addTerminalLine("May your code always compile on the first try,", 'quote');
                addTerminalLine("May your bugs be few and easily squashed.", 'quote');
                addTerminalLine("May your coffee be strong and your deadlines far,", 'quote');
                addTerminalLine("Happy Birthday, you magnificent coder! ğŸ‰", 'quote');
                addTerminalLine("");
                addTerminalLine("==================================", 'success');
            },
            quote: () => {
                const quotes = [
                    "The best way to predict the future is to code it. - Anonymous",
                    "Happiness is a warm keyboard. - Unknown Hacker",
                    "Every line of code is a step towards greatness. - é¾™æŸ¯çš“",
                    "Today is your day to shine brighter than a monitor at 2 AM. - Birthday Terminal"
                ];
                addTerminalLine(`"${quotes[Math.floor(Math.random() * quotes.length)]}"`, 'quote');
            },
            joke: () => {
                const jokes = [
                    "Why do programmers prefer dark mode? Because light attracts bugs!",
                    "How many programmers does it take to change a light bulb? None, that's a hardware problem.",
                    "Why did the developer go broke? Because he used up all his cache.",
                    "I told my computer I needed a break. Now it won't stop sending me Kit-Kat ads."
                ];
                addTerminalLine(jokes[Math.floor(Math.random() * jokes.length)], 'info');
            },
            clear: () => {
                terminalContent.innerHTML = '';
                addTerminalLine("Screen cleared.", 'system');
            },
            sysinfo: () => {
                addTerminalLine("System Information:", 'info');
                addTerminalLine(`  OS: Birthday OS v${Math.random().toFixed(2)}`);
                addTerminalLine(`  Kernel: happiness_kernel`);
                addTerminalLine(`  Uptime: ${Math.floor(Math.random() * 100)} days`);
                addTerminalLine(`  Terminal: HappyTerminal/1.0`);
                addTerminalLine(`  Mood: Celebratory ğŸ¥³`);
            },
            sing: () => {
                const song = [
                    "Happy Birthday to You,",
                    "Happy Birthday to You,",
                    "Happy Birthday dear é¾™æŸ¯çš“,",
                    "Happy Birthday to You!"
                ];
                addTerminalLine("Terminal is now singing:", 'info');
                song.forEach((line, i) => setTimeout(() => addTerminalLine(line, 'quote'), i * 800));
            },
            credits: () => {
                addTerminalLine("Credits:", 'info');
                addTerminalLine("  Developed with â¤ï¸ for é¾™æŸ¯çš“'s Birthday");
                addTerminalLine("  Design Inspiration: The Matrix, Hacker Movies");
                addTerminalLine("  Code Rain Effect: Pure JavaScript Magic");
                addTerminalLine("  Special Thanks: All who celebrate with é¾™æŸ¯çš“ today!");
            },
            exit: () => {
                addTerminalLine("Are you sure you want to exit? Today is special! (Y/n)", 'error');
                // We'll handle the confirmation in the input handler
                waitingForExitConfirmation = true;
            }
        };

        let waitingForExitConfirmation = false;

        // è¾“å…¥å¤„ç†
        userInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                const command = userInput.value.trim().toLowerCase();
                addTerminalLine(`> ${command}`, 'default');

                if (waitingForExitConfirmation) {
                    if (command === 'y' || command === 'yes') {
                        addTerminalLine("Exiting... Thank you for celebrating!", 'system');
                        setTimeout(() => window.close(), 1500);
                    } else {
                        addTerminalLine("Exit cancelled. Good choice!", 'success');
                    }
                    waitingForExitConfirmation = false;
                    userInput.value = '';
                    return;
                }

                if (command === '') {
                    userInput.value = '';
                    return;
                }

                if (commands[command]) {
                    commands[command]();
                } else {
                    addTerminalLine(`Error: Command '${command}' not found. Type 'help' for assistance.`, 'error');
                }

                userInput.value = '';
            }
        });
    </script>
</body>
</html>
